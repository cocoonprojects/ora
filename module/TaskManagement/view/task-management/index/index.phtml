<?php
$this->headScript ()->appendFile ( $this->basePath () . '/js/task-utils.js' );
$this->headScript ()->appendFile ( $this->basePath () . '/js/task-management.js' );
$this->headStyle ()->appendStyle ( 'ul.task-details { list-style: none; margin:0; padding: 0; }' );
$this->headStyle ()->appendStyle ( 'ul.task-actions { list-style: none; margin:0; padding: 0; }' );
$this->headStyle ()->appendStyle ( 'ul.task-actions li { display: inline-block; }' );
$this->headStyle ()->appendStyle ( '.panel-heading a { cursor: pointer; }' );
?>
<div style="position: fixed; bottom: 2em; right: 2em" class="dropup">
	<a class="btn btn-primary btn-fab btn-raised mdi-content-add"
		style="display: none" data-toggle="dropdown" role="button"
		aria-expanded="false" id="createTaskBtn"></a>
	<ul class="dropdown-menu" role="menu" style="left: -200%;">
		<li><a href="#" data-toggle="modal" data-target="#createStreamModal">New
				Stream</a></li>
		<li><a href="#" data-toggle="modal" data-target="#createTaskModal">New
				Task</a></li>
	</ul>
</div>
<div class="container" id="content">
	<div class="page-header">
		<h1>Items</h1>
		<form class="form-inline" id="taskFilters" method="get">
			<input type="hidden" name="offset" value="0">
			<input type="hidden" name="limit" value="10">
			<div class="form-group">
				<label for="startOn">From</label>
				<input type="date" class="form-control" name="startOn" id="startOn">
			</div>
			<div class="form-group">
				<label for="endOn">To</label>
				<input type="date" class="form-control" name="endOn" id="endOn">
			</div>
			<div class="form-group">
				<label for="memberEmail">Member</label>
				<input type="email" class="form-control" name="memberEmail" id="memberEmail" placeholder="example@ora.com">
			</div>
			<div class="form-group">
				<label for="status">Status</label>
				<select class="form-control" name ="status" id="status">
					<option value=""></option>
					<option value="0">Idea</option>
					<option value="20">OnGoing</option>
					<option value="30">Completed</option>
					<option value="40">Accepted</option>
					<option value="50">Closed</option>
				</select>
			</div>
			<button type="submit" class="btn btn-primary">Filter</button>
		</form>
	</div>
	<div class="alert" role="alert">
		<button type="button" class="close" data-dismiss="alert"
			aria-label="Close">
			<span aria-hidden="true">&times;</span>
		</button>
	</div>
	<ul id="tasks" style="list-style: none; padding: 0; margin: 0">
	</ul>
</div>
<script>
function onLoad() {
	gapi.load('auth2', function() {
    gapi.auth2.init();
	});
}
</script>
<script src="https://apis.google.com/js/platform.js?onload=onLoad" async
	defer></script>
<?php echo $this->partial('task-management/index/create-task-modal.phtml')?>
<?php echo $this->partial('task-management/index/edit-task-modal.phtml')?>
<?php echo $this->partial('task-management/index/estimate-task-modal.phtml')?>
<?php echo $this->partial('task-management/index/assign-shares-modal.phtml')?>
<?php echo $this->partial('task-management/index/task-detail-modal.phtml')?>
<?php echo $this->partial('task-management/index/create-stream-modal.phtml') ?>
